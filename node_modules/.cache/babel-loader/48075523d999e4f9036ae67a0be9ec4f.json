{"ast":null,"code":"import _slicedToArray from \"D:\\\\Studium\\\\Bachelor\\\\WebApp\\\\visapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Studium\\\\Bachelor\\\\WebApp\\\\visapp\\\\src\\\\components\\\\charts\\\\AreaIKTBesch\\xE4ftigung.jsx\";\nimport React, { useRef, useEffect, useState } from \"react\";\nimport { select, line, curveCardinal, axisBottom, axisLeft, scaleTime, scaleLinear, scaleBand, min, max, event, entries, bisector, mouse, curveLinear, area, nest, extent, timeParse } from 'd3';\nimport useResizeObserver from \"./useReziseObserver\";\n\nfunction AreaIKTBeschäftigung({\n  property\n}) {\n  const svgRef = useRef();\n  const wrapperRef = useRef();\n  const dimensions = useResizeObserver(wrapperRef);\n\n  const _useState = useState([0, 1.5]),\n        _useState2 = _slicedToArray(_useState, 2),\n        selection = _useState2[0],\n        setSelection = _useState2[1]; // const [dat, setData] = useState([25, 30, 45, 60, 20, 65, 75]);\n  //Wird einmal aufgerufen, wenn DOM-Element gerendert wird, und wenn sich Elemente im Array verändern\n\n\n  useEffect(() => {\n    const svg = select(svgRef.current);\n    var data = [{\n      name: \"USA\",\n      values: [{\n        date: \"2000\",\n        price: \"100\"\n      }, {\n        date: \"2001\",\n        price: \"110\"\n      }, {\n        date: \"2002\",\n        price: \"145\"\n      }, {\n        date: \"2003\",\n        price: \"241\"\n      }, {\n        date: \"2004\",\n        price: \"101\"\n      }, {\n        date: \"2005\",\n        price: \"90\"\n      }, {\n        date: \"2006\",\n        price: \"10\"\n      }, {\n        date: \"2007\",\n        price: \"35\"\n      }, {\n        date: \"2008\",\n        price: \"21\"\n      }, {\n        date: \"2009\",\n        price: \"201\"\n      }]\n    }, {\n      name: \"Canada\",\n      values: [{\n        date: \"2000\",\n        price: \"200\"\n      }, {\n        date: \"2001\",\n        price: \"120\"\n      }, {\n        date: \"2002\",\n        price: \"33\"\n      }, {\n        date: \"2003\",\n        price: \"21\"\n      }, {\n        date: \"2004\",\n        price: \"51\"\n      }, {\n        date: \"2005\",\n        price: \"190\"\n      }, {\n        date: \"2006\",\n        price: \"120\"\n      }, {\n        date: \"2007\",\n        price: \"85\"\n      }, {\n        date: \"2008\",\n        price: \"221\"\n      }, {\n        date: \"2009\",\n        price: \"101\"\n      }]\n    }, {\n      name: \"Maxico\",\n      values: [{\n        date: \"2000\",\n        price: \"50\"\n      }, {\n        date: \"2001\",\n        price: \"10\"\n      }, {\n        date: \"2002\",\n        price: \"5\"\n      }, {\n        date: \"2003\",\n        price: \"71\"\n      }, {\n        date: \"2004\",\n        price: \"20\"\n      }, {\n        date: \"2005\",\n        price: \"9\"\n      }, {\n        date: \"2006\",\n        price: \"220\"\n      }, {\n        date: \"2007\",\n        price: \"235\"\n      }, {\n        date: \"2008\",\n        price: \"61\"\n      }, {\n        date: \"2009\",\n        price: \"10\"\n      }]\n    }];\n    var duration = 250;\n    var lineOpacity = \"0.25\";\n    var lineOpacityHover = \"0.85\";\n    var otherLinesOpacityHover = \"0.1\";\n    var lineStroke = \"1.5px\";\n    var lineStrokeHover = \"2.5px\";\n    var margin = 50;\n    var circleOpacity = '0.85';\n    var circleOpacityOnLineHover = \"0.25\";\n    var circleRadius = 3;\n    var circleRadiusHover = 6;\n    /* Format Data */\n\n    var parseDate = timeParse(\"%Y\");\n    data.forEach(function (d) {\n      d.values.forEach(function (d) {\n        d.date = parseDate(d.date);\n        d.price = +d.price;\n      });\n    });\n    /* Scale */\n\n    var xScale = scaleTime().domain(extent(data[0].values, d => d.date)).range([0, dimensions.width]);\n    var yScale = scaleLinear().domain([0, max(data[0].values, d => d.price)]).range([dimensions.height, 0]);\n    var color = scaleOrdinal(d3.schemeCategory10);\n    /* Add SVG */\n\n    svg = select(\"#chart\").append(\"svg\").attr(\"width\", dimensions.width + \"px\").attr(\"height\", dimensions.height + \"px\").append('g').attr(\"transform\", `translate(${margin}, ${margin})`);\n    /* Add line into SVG */\n\n    var line = line().x(d => xScale(d.date)).y(d => yScale(d.price));\n    let lines = svg.append('g').attr('class', 'lines');\n    lines.selectAll('.line-group').data(data).enter().append('g').attr('class', 'line-group')\n    /* .on(\"mouseover\", function(d, i) {\r\n         svg.append(\"text\")\r\n           .attr(\"class\", \"title-text\")\r\n           .style(\"fill\", color(i))        \r\n           .text(d.name)\r\n           .attr(\"text-anchor\", \"middle\")\r\n           .attr(\"x\", (dimensions.width-margin)/2)\r\n           .attr(\"y\", 5);\r\n       }) \r\n     .on(\"mouseout\", function(d) {\r\n         svg.select(\".title-text\").remove();\r\n       })*/\n    .append('path').attr('class', 'line').attr('d', d => line(d.values)).style('stroke', (d, i) => color(i)).style('opacity', lineOpacity);\n    /*.on(\"mouseover\", function(d) {\r\n        selectAll('.line')\r\n            .style('opacity', otherLinesOpacityHover);\r\n        selectAll('.circle')\r\n            .style('opacity', circleOpacityOnLineHover);\r\n        select(this)\r\n          .style('opacity', lineOpacityHover)\r\n          .style(\"stroke-width\", lineStrokeHover)\r\n          .style(\"cursor\", \"pointer\");\r\n      })\r\n    .on(\"mouseout\", function(d) {\r\n        selectAll(\".line\")\r\n            .style('opacity', lineOpacity);\r\n        selectAll('.circle')\r\n            .style('opacity', circleOpacity);\r\n        select(this)\r\n          .style(\"stroke-width\", lineStroke)\r\n          .style(\"cursor\", \"none\");\r\n      }); */\n\n    /* Add circles in the line */\n\n    lines.selectAll(\"circle-group\").data(data).enter().append(\"g\").style(\"fill\", (d, i) => color(i)).selectAll(\"circle\").data(d => d.values).enter().append(\"g\").attr(\"class\", \"circle\")\n    /*  .on(\"mouseover\", function(d) {\r\n          select(this)     \r\n            .style(\"cursor\", \"pointer\")\r\n            .append(\"text\")\r\n            .attr(\"class\", \"text\")\r\n            .text(`${d.price}`)\r\n            .attr(\"x\", d => xScale(d.date) + 5)\r\n            .attr(\"y\", d => yScale(d.price) - 10);\r\n        })\r\n      .on(\"mouseout\", function(d) {\r\n          d3.select(this)\r\n            .style(\"cursor\", \"none\")  \r\n            .transition()\r\n            .duration(duration)\r\n            .selectAll(\".text\").remove();\r\n        }) */\n    .append(\"circle\").attr(\"cx\", d => xScale(d.date)).attr(\"cy\", d => yScale(d.price)).attr(\"r\", circleRadius).style('opacity', circleOpacity).on(\"mouseover\", function (d) {\n      d3.select(this).transition().duration(duration).attr(\"r\", circleRadiusHover);\n    }).on(\"mouseout\", function (d) {\n      d3.select(this).transition().duration(duration).attr(\"r\", circleRadius);\n    });\n    /* Add Axis into SVG */\n\n    var xAxis = axisBottom(xScale).ticks(5);\n    var yAxis = axisLeft(yScale).ticks(5);\n    svg.append(\"g\").attr(\"class\", \"x axis\").attr(\"transform\", `translate(0, ${dimensions.height - margin})`).call(xAxis);\n    svg.append(\"g\").attr(\"class\", \"y axis\").call(yAxis).append('text').attr(\"y\", 15).attr(\"transform\", \"rotate(-90)\").attr(\"fill\", \"#000\").text(\"Total values\");\n  }, [data, dimensions, property]);\n  return React.createElement(\"div\", {\n    className: \"IKTWarapperRef\",\n    ref: wrapperRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  }, React.createElement(\"svg\", {\n    ref: svgRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222\n    },\n    __self: this\n  }, React.createElement(\"g\", {\n    className: \"x-axis\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223\n    },\n    __self: this\n  }), React.createElement(\"g\", {\n    className: \"y-axis\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224\n    },\n    __self: this\n  })));\n}\n\nexport default AreaIKTBeschäftigung;","map":{"version":3,"sources":["D:/Studium/Bachelor/WebApp/visapp/src/components/charts/AreaIKTBeschäftigung.jsx"],"names":["React","useRef","useEffect","useState","select","line","curveCardinal","axisBottom","axisLeft","scaleTime","scaleLinear","scaleBand","min","max","event","entries","bisector","mouse","curveLinear","area","nest","extent","timeParse","useResizeObserver","AreaIKTBeschäftigung","property","svgRef","wrapperRef","dimensions","selection","setSelection","svg","current","data","name","values","date","price","duration","lineOpacity","lineOpacityHover","otherLinesOpacityHover","lineStroke","lineStrokeHover","margin","circleOpacity","circleOpacityOnLineHover","circleRadius","circleRadiusHover","parseDate","forEach","d","xScale","domain","range","width","yScale","height","color","scaleOrdinal","d3","schemeCategory10","append","attr","x","y","lines","selectAll","enter","style","i","on","transition","xAxis","ticks","yAxis","call","text"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\r\nimport { select, line, curveCardinal, axisBottom, axisLeft, scaleTime, scaleLinear, scaleBand, min, max, event, entries,bisector, mouse, curveLinear, area, nest, extent, timeParse} from 'd3';\r\nimport useResizeObserver from \"./useReziseObserver\";\r\n\r\nfunction AreaIKTBeschäftigung({  property }) {\r\n   const svgRef = useRef();\r\n   const wrapperRef = useRef();\r\n   const dimensions = useResizeObserver(wrapperRef);\r\n   const [selection, setSelection] = useState([0, 1.5]);\r\n  // const [dat, setData] = useState([25, 30, 45, 60, 20, 65, 75]);\r\n   //Wird einmal aufgerufen, wenn DOM-Element gerendert wird, und wenn sich Elemente im Array verändern\r\n   useEffect(() => {\r\n\r\n      const svg = select(svgRef.current);\r\n\r\n      var data = [\r\n        {\r\n          name: \"USA\",\r\n          values: [\r\n            {date: \"2000\", price: \"100\"},\r\n            {date: \"2001\", price: \"110\"},\r\n            {date: \"2002\", price: \"145\"},\r\n            {date: \"2003\", price: \"241\"},\r\n            {date: \"2004\", price: \"101\"},\r\n            {date: \"2005\", price: \"90\"},\r\n            {date: \"2006\", price: \"10\"},\r\n            {date: \"2007\", price: \"35\"},\r\n            {date: \"2008\", price: \"21\"},\r\n            {date: \"2009\", price: \"201\"}\r\n          ]\r\n        },\r\n        {\r\n          name: \"Canada\",\r\n          values: [\r\n            {date: \"2000\", price: \"200\"},\r\n            {date: \"2001\", price: \"120\"},\r\n            {date: \"2002\", price: \"33\"},\r\n            {date: \"2003\", price: \"21\"},\r\n            {date: \"2004\", price: \"51\"},\r\n            {date: \"2005\", price: \"190\"},\r\n            {date: \"2006\", price: \"120\"},\r\n            {date: \"2007\", price: \"85\"},\r\n            {date: \"2008\", price: \"221\"},\r\n            {date: \"2009\", price: \"101\"}\r\n          ]\r\n        },\r\n        {\r\n          name: \"Maxico\",\r\n          values: [\r\n            {date: \"2000\", price: \"50\"},\r\n            {date: \"2001\", price: \"10\"},\r\n            {date: \"2002\", price: \"5\"},\r\n            {date: \"2003\", price: \"71\"},\r\n            {date: \"2004\", price: \"20\"},\r\n            {date: \"2005\", price: \"9\"},\r\n            {date: \"2006\", price: \"220\"},\r\n            {date: \"2007\", price: \"235\"},\r\n            {date: \"2008\", price: \"61\"},\r\n            {date: \"2009\", price: \"10\"}\r\n          ]\r\n        }\r\n      ];\r\n      \r\n      var duration = 250;\r\n      \r\n      var lineOpacity = \"0.25\";\r\n      var lineOpacityHover = \"0.85\";\r\n      var otherLinesOpacityHover = \"0.1\";\r\n      var lineStroke = \"1.5px\";\r\n      var lineStrokeHover = \"2.5px\";\r\n      var margin = 50;\r\n      var circleOpacity = '0.85';\r\n      var circleOpacityOnLineHover = \"0.25\"\r\n      var circleRadius = 3;\r\n      var circleRadiusHover = 6;\r\n      \r\n      \r\n      /* Format Data */\r\n      var parseDate = timeParse(\"%Y\");\r\n      data.forEach(function(d) { \r\n        d.values.forEach(function(d) {\r\n          d.date = parseDate(d.date);\r\n          d.price = +d.price;    \r\n        });\r\n      });\r\n      \r\n      \r\n      /* Scale */\r\n      var xScale = scaleTime()\r\n        .domain(extent(data[0].values, d => d.date))\r\n        .range([0, dimensions.width]);\r\n      \r\n      var yScale = scaleLinear()\r\n        .domain([0, max(data[0].values, d => d.price)])\r\n        .range([dimensions.height, 0]);\r\n      \r\n      var color = scaleOrdinal(d3.schemeCategory10);\r\n      \r\n      /* Add SVG */\r\n      svg = select(\"#chart\").append(\"svg\")\r\n        .attr(\"width\", ( dimensions.width)+\"px\")\r\n        .attr(\"height\", (dimensions.height)+\"px\")\r\n        .append('g')\r\n        .attr(\"transform\", `translate(${margin}, ${margin})`);\r\n      \r\n      \r\n      /* Add line into SVG */\r\n      var line = line()\r\n        .x(d => xScale(d.date))\r\n        .y(d => yScale(d.price));\r\n      \r\n      let lines = svg.append('g')\r\n        .attr('class', 'lines');\r\n      \r\n      lines.selectAll('.line-group')\r\n        .data(data).enter()\r\n        .append('g')\r\n        .attr('class', 'line-group')  \r\n       /* .on(\"mouseover\", function(d, i) {\r\n            svg.append(\"text\")\r\n              .attr(\"class\", \"title-text\")\r\n              .style(\"fill\", color(i))        \r\n              .text(d.name)\r\n              .attr(\"text-anchor\", \"middle\")\r\n              .attr(\"x\", (dimensions.width-margin)/2)\r\n              .attr(\"y\", 5);\r\n          }) \r\n        .on(\"mouseout\", function(d) {\r\n            svg.select(\".title-text\").remove();\r\n          })*/\r\n        .append('path')\r\n        .attr('class', 'line')  \r\n        .attr('d', d => line(d.values))\r\n        .style('stroke', (d, i) => color(i))\r\n        .style('opacity', lineOpacity)\r\n        /*.on(\"mouseover\", function(d) {\r\n            selectAll('.line')\r\n                .style('opacity', otherLinesOpacityHover);\r\n            selectAll('.circle')\r\n                .style('opacity', circleOpacityOnLineHover);\r\n            select(this)\r\n              .style('opacity', lineOpacityHover)\r\n              .style(\"stroke-width\", lineStrokeHover)\r\n              .style(\"cursor\", \"pointer\");\r\n          })\r\n        .on(\"mouseout\", function(d) {\r\n            selectAll(\".line\")\r\n                .style('opacity', lineOpacity);\r\n            selectAll('.circle')\r\n                .style('opacity', circleOpacity);\r\n            select(this)\r\n              .style(\"stroke-width\", lineStroke)\r\n              .style(\"cursor\", \"none\");\r\n          }); */\r\n      \r\n      \r\n      /* Add circles in the line */\r\n      lines.selectAll(\"circle-group\")\r\n        .data(data).enter()\r\n        .append(\"g\")\r\n        .style(\"fill\", (d, i) => color(i))\r\n        .selectAll(\"circle\")\r\n        .data(d => d.values).enter()\r\n        .append(\"g\")\r\n        .attr(\"class\", \"circle\")  \r\n      /*  .on(\"mouseover\", function(d) {\r\n            select(this)     \r\n              .style(\"cursor\", \"pointer\")\r\n              .append(\"text\")\r\n              .attr(\"class\", \"text\")\r\n              .text(`${d.price}`)\r\n              .attr(\"x\", d => xScale(d.date) + 5)\r\n              .attr(\"y\", d => yScale(d.price) - 10);\r\n          })\r\n        .on(\"mouseout\", function(d) {\r\n            d3.select(this)\r\n              .style(\"cursor\", \"none\")  \r\n              .transition()\r\n              .duration(duration)\r\n              .selectAll(\".text\").remove();\r\n          }) */\r\n        .append(\"circle\")\r\n        .attr(\"cx\", d => xScale(d.date))\r\n        .attr(\"cy\", d => yScale(d.price))\r\n        .attr(\"r\", circleRadius)\r\n        .style('opacity', circleOpacity)\r\n        .on(\"mouseover\", function(d) {\r\n              d3.select(this)\r\n                .transition()\r\n                .duration(duration)\r\n                .attr(\"r\", circleRadiusHover);\r\n            })\r\n          .on(\"mouseout\", function(d) {\r\n              d3.select(this) \r\n                .transition()\r\n                .duration(duration)\r\n                .attr(\"r\", circleRadius);  \r\n            });\r\n      \r\n      \r\n      /* Add Axis into SVG */\r\n      var xAxis = axisBottom(xScale).ticks(5);\r\n      var yAxis = axisLeft(yScale).ticks(5);\r\n      \r\n      svg.append(\"g\")\r\n        .attr(\"class\", \"x axis\")\r\n        .attr(\"transform\", `translate(0, ${dimensions.height-margin})`)\r\n        .call(xAxis);\r\n      \r\n      svg.append(\"g\")\r\n        .attr(\"class\", \"y axis\")\r\n        .call(yAxis)\r\n        .append('text')\r\n        .attr(\"y\", 15)\r\n        .attr(\"transform\", \"rotate(-90)\")\r\n        .attr(\"fill\", \"#000\")\r\n        .text(\"Total values\");\r\n\r\n   }, [data, dimensions, property]);\r\n    return (\r\n     <div  className=\"IKTWarapperRef\" ref={wrapperRef} >\r\n        <svg ref={svgRef}>\r\n          <g className=\"x-axis\" />\r\n          <g className=\"y-axis\" />\r\n        </svg>\r\n      </div>\r\n    );\r\n    }\r\n    \r\n    export default AreaIKTBeschäftigung;"]},"metadata":{},"sourceType":"module"}