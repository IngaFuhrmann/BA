{"ast":null,"code":"var _jsxFileName = \"D:\\\\Studium\\\\Bachelor\\\\WebApp\\\\visapp\\\\src\\\\components\\\\charts\\\\BarHighInternet.jsx\";\nimport React, { useRef, useEffect } from \"react\";\nimport { select, scaleOrdinal, pie, arc } from 'd3';\nimport useResizeObserver from \"./useReziseObserver\";\nimport '../../styles/highlight.css';\n\nfunction BarHighInternet({\n  data,\n  number\n}) {\n  const svgRef = useRef();\n  const wrapperRef = useRef();\n  const dimensions = useResizeObserver(wrapperRef);\n  useEffect(() => {\n    const svg = select(svgRef.current);\n    if (!dimensions) return;\n    var width = dimensions.width;\n    var outerRadius = width / 4;\n    var filtered = data.filter(a => a.häufig === \"häufig\");\n    console.log(filtered);\n    var pied = pie().value(d => d.time[Object.keys(d.time)[number]])(filtered);\n    var color = scaleOrdinal().domain(pied).range([\"#a8a7a8\", \"#d043ee\"]);\n    var arcd = arc().innerRadius(90) // This is the size of the donut hole\n    .outerRadius(outerRadius / 1.5);\n    var g = svg.selectAll(\".newPie\").data(pied).join(\"path\").attr(\"class\", \"newPie\").attr(\"d\", arcd).attr(\"fill\", function (d) {\n      return color(d.data.häufig);\n    }).attr(\"stroke\", \"#203040\").style(\"stroke-width\", \"6px\").style(\"opacity\", 1);\n    g.transition().duration(80);\n    svg.selectAll(\".newText\").data(pied).join(\"text\").attr(\"class\", \"newText\").attr(\"transform\", function (d) {\n      var _d = arcd.centroid(d); //   _d[0] -= 2.0;\t\n      //   _d[1] += 0.3;\n\n\n      return \"translate(\" + _d + \")\";\n    }).attr(\"fill\", \"white\").attr(\"font-size\", \"12px\").attr(\"text-anchor\", \"middle\").text(function (d) {\n      return d.data.häufig;\n    });\n    g.on(\"mouseover\", function (d) {\n      svg.selectAll(\".tooltip\").attr(\"transform\", function (d) {\n        return \"translate(\" + arcd.centroid(d) + \")\";\n      }).data([data]).join(enter => enter.append(\"text\")).attr(\"class\", \"tooltip\").text(d.value + \"%\").attr(\"x\", -12 + \"%\").attr(\"y\", 3 + \"%\").attr(\"fill\", \"white\").attr(\"font-size\", \"30\");\n    }).on(\"mouseout\", function (d) {\n      svg.select(\".tooltip\").remove();\n    });\n  }, [data, dimensions]);\n  return React.createElement(\"div\", {\n    className: \"chartHigh\",\n    ref: wrapperRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(\"svg\", {\n    ref: svgRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"g\", {\n    className: \"x-axis\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }), React.createElement(\"g\", {\n    className: \"y-axis\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  })));\n}\n\nexport default BarHighInternet;","map":{"version":3,"sources":["D:/Studium/Bachelor/WebApp/visapp/src/components/charts/BarHighInternet.jsx"],"names":["React","useRef","useEffect","select","scaleOrdinal","pie","arc","useResizeObserver","BarHighInternet","data","number","svgRef","wrapperRef","dimensions","svg","current","width","outerRadius","filtered","filter","a","häufig","console","log","pied","value","d","time","Object","keys","color","domain","range","arcd","innerRadius","g","selectAll","join","attr","style","transition","duration","_d","centroid","text","on","enter","append","remove"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect} from \"react\";\r\nimport { select, scaleOrdinal, pie, arc, } from 'd3';\r\nimport useResizeObserver from \"./useReziseObserver\";\r\nimport '../../styles/highlight.css'\r\n\r\n\r\nfunction BarHighInternet({ data, number}) {\r\n   const svgRef = useRef();\r\n   const wrapperRef = useRef();\r\n   const dimensions = useResizeObserver(wrapperRef);\r\n\r\n   useEffect(() => {\r\n\r\n    const svg = select(svgRef.current);\r\n  \r\n    if(!dimensions) return;\r\n\r\n       var width = dimensions.width  ;\r\n       var outerRadius = width/4;\r\n      \r\n       var filtered = data.filter(a=>a.häufig===\"häufig\"); \r\n\r\n       \r\n       console.log(filtered)\r\n       var pied = pie().value((d) => d.time[Object.keys(d.time)[number]])(filtered);\r\n\r\n \r\n         var color = scaleOrdinal()\r\n         .domain(pied)\r\n         .range([\"#a8a7a8\",\"#d043ee\"])\r\n\r\n         var arcd = arc()\r\n         .innerRadius(90)         // This is the size of the donut hole\r\n         .outerRadius(outerRadius/1.5)\r\n\r\n\r\n        var g = svg.selectAll(\".newPie\")\r\n        .data(pied)\r\n        .join(\"path\")\r\n        .attr(\"class\", \"newPie\")\r\n        .attr(\"d\", arcd)\r\n        .attr(\"fill\", function(d) { return color(d.data.häufig); })\r\n        .attr(\"stroke\", \"#203040\")\r\n         .style(\"stroke-width\", \"6px\")\r\n         .style(\"opacity\", 1)\r\n         \r\n         g.transition()\r\n         .duration(80);\r\n         \r\n         svg.selectAll(\".newText\")\r\n         .data(pied)\r\n         .join(\"text\")\r\n         .attr(\"class\", \"newText\")\r\n        .attr(\"transform\", function(d) {\r\n          var _d = arcd.centroid(d);\r\n       //   _d[0] -= 2.0;\t\r\n       //   _d[1] += 0.3;\r\n          return \"translate(\" + _d + \")\";\r\n        })\r\n        .attr(\"fill\", \"white\")\r\n        .attr(\"font-size\", \"12px\")\r\n        .attr(\"text-anchor\", \"middle\")\r\n        .text(function(d) { return d.data.häufig; });\r\n\r\n\r\n        g.on(\"mouseover\", function(d) {\r\n          svg.selectAll(\".tooltip\")\r\n          .attr(\"transform\", function(d) {\r\n           return \"translate(\" + arcd.centroid(d) + \")\"})\r\n             .data([data])\r\n             .join(enter => enter.append(\"text\"))\r\n             .attr(\"class\", \"tooltip\")\r\n            .text(d.value + \"%\")\r\n            .attr(\"x\", -12 + \"%\")\r\n            .attr(\"y\", 3 + \"%\")\r\n            .attr(\"fill\", \"white\")\r\n            .attr(\"font-size\", \"30\")\r\n          })\r\n          .on(\"mouseout\", function(d) {\r\n            svg.select(\".tooltip\").remove()\r\n  })\r\n\r\n   \r\n}, [data, dimensions]);\r\nreturn (\r\n <div className=\"chartHigh\" ref={wrapperRef}>\r\n    <svg ref={svgRef}>\r\n      <g className=\"x-axis\" />\r\n      <g className=\"y-axis\" />\r\n    </svg>\r\n  </div>\r\n);\r\n}\r\n\r\nexport default BarHighInternet;"]},"metadata":{},"sourceType":"module"}