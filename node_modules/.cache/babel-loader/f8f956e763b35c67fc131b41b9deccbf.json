{"ast":null,"code":"import React,{useRef,useEffect}from\"react\";import{select,axisBottom,axisLeft,scaleTime,scaleLinear,min,max,entries,curveLinear,area}from'd3';import useResizeObserver from\"./useReziseObserver\";import Tooltip from\"./tooltips\";function AreaIKTBeschäftigung(_ref){var data=_ref.data,property=_ref.property,value1=_ref.value1,value2=_ref.value2,color1=_ref.color1,color2=_ref.color2;var svgRef=useRef();var wrapperRef=useRef();var dimensions=useResizeObserver(wrapperRef);useEffect(function(){var svg=select(svgRef.current);var filterme;var filterMann;if(!dimensions)return;//Daten filtern\nvar filtered=data.filter(function(a){return a.geo==property;});if(value1==\"Männer\"){for(var i=0;i<filtered.length;i++){filterme=filtered[i].Frauen;filterMann=filtered[i].Männer;}}else{for(var i=0;i<filtered.length;i++){filterme=filtered[i].Einstellung;filterMann=filtered[i].Beschäftigung;}}var valesFrau=entries(filterme);var valesMann=entries(filterMann);var objectsIKT={gen:valesFrau,gens:valesMann};var minDate=new Date(min(objectsIKT.gen,function(value){return value.key;}));var maxDate=new Date(max(objectsIKT.gen,function(value){return value.key;}));var xScale=scaleTime().domain([minDate,maxDate]).range([0,dimensions.width]);var yScale=scaleLinear().domain([0,100]).range([dimensions.height,30]);var yAxis=axisLeft(yScale);svg.select('.y-axis').style('color','grey').style('font-size','14').call(yAxis);var xAxis=axisBottom(xScale);svg.select(\".x-axis\").join(\".x-axis\").style('transform',\"translateY(\".concat(dimensions.height,\"px)\")).style('color','grey').style('font-size','14').style('stroke-width',1).call(xAxis);//Grids\nvar grids=svg.select(\"g\").append(\"g\").join(\"g\").attr(\"class\",\"grid\").attr('transform','translate(0,'+-dimensions.height+')').call(axisLeft(yScale).tickSize(-dimensions.width).tickFormat(\"\"));//X-Achsen-Beschriftung\nsvg.select(\"text\").join(\"text\").attr(\"text-anchor\",\"end\").attr(\"fill\",\"grey\").attr(\"x\",dimensions.width).attr(\"y\",+dimensions.height/8).attr(\"font-weight\",\"bold\").text(\"Jahr\");//Y-Achsen-Beschrifzung\nsvg.append(\"text\").attr(\"text-anchor\",\"end\").attr(\"transform\",\"rotate(-90)\").attr(\"fill\",\"grey\").attr(\"y\",-50).attr(\"x\",0).text(\"Prozent\");var curve=curveLinear;var myArea=area().x(function(d){return xScale(new Date(d.key));}).y0(dimensions.height).y1(function(d){return yScale(d.value);}).curve(curve);svg.selectAll(\".newArea\").data([valesMann]).join(\"path\").attr(\"class\",\"newArea\").transition().duration(300).attr(\"d\",function(value,index){return myArea(value);}).transition().attr(\"fill\",color1);svg.selectAll(\".newerArea\").data([valesFrau]).join(\"path\").attr(\"class\",\"newerArea\").transition().duration(300).attr(\"d\",function(value,index){return myArea(value);}).attr(\"fill\",\"none\").attr(\"fill\",color2);Tooltip(svg,valesFrau,valesMann,color1,color2,dimensions,xScale,yScale,value2,value1,value1);},[data,dimensions,property]);return React.createElement(\"div\",{className:\"IKTWarapperRef\",ref:wrapperRef},React.createElement(\"svg\",{ref:svgRef},React.createElement(\"g\",{className:\"x-axis\"}),React.createElement(\"g\",{className:\"y-axis\"})));}export default AreaIKTBeschäftigung;","map":{"version":3,"sources":["D:/Studium/Bachelor/FinalHelper/src/components/charts/IKTBeschäftigungChart.jsx"],"names":["React","useRef","useEffect","select","axisBottom","axisLeft","scaleTime","scaleLinear","min","max","entries","curveLinear","area","useResizeObserver","Tooltip","AreaIKTBeschäftigung","data","property","value1","value2","color1","color2","svgRef","wrapperRef","dimensions","svg","current","filterme","filterMann","filtered","filter","a","geo","i","length","Frauen","Männer","Einstellung","Beschäftigung","valesFrau","valesMann","objectsIKT","gen","gens","minDate","Date","value","key","maxDate","xScale","domain","range","width","yScale","height","yAxis","style","call","xAxis","join","grids","append","attr","tickSize","tickFormat","text","curve","myArea","x","d","y0","y1","selectAll","transition","duration","index"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect} from \"react\";\r\nimport { select, axisBottom, axisLeft, scaleTime, scaleLinear, min, max, entries,curveLinear, area, } from 'd3';\r\nimport useResizeObserver from \"./useReziseObserver\";\r\nimport Tooltip from \"./tooltips\";\r\n\r\nfunction AreaIKTBeschäftigung({ data, property, value1, value2, color1, color2 }) {\r\n   const svgRef = useRef();\r\n   const wrapperRef = useRef();\r\n   const dimensions = useResizeObserver(wrapperRef);\r\n \r\n   useEffect(() => {\r\n\r\n      const svg = select(svgRef.current);\r\n     var filterme;\r\n     var filterMann;\r\n      if(!dimensions) return;\r\n\r\n      //Daten filtern\r\n      var filtered = data.filter(a=>a.geo==property);\r\n     \r\n      if(value1 == \"Männer\"){\r\n    for(var i = 0; i < filtered.length; i ++) {\r\n       filterme = filtered[i].Frauen;\r\n       filterMann = filtered[i].Männer;  \r\n    }\r\n  }else{\r\n    for(var i = 0; i < filtered.length; i ++) {\r\n       filterme = filtered[i].Einstellung;\r\n      filterMann = filtered[i].Beschäftigung;  \r\n   }\r\n  }\r\n    var valesFrau = entries(filterme);\r\n    var valesMann = entries(filterMann);\r\n\r\n    var objectsIKT = {gen: valesFrau, gens: valesMann};\r\n\r\n    const minDate = new Date (min(objectsIKT.gen, value => value.key));\r\n    const maxDate = new Date (max(objectsIKT.gen, value => value.key));     \r\n\r\n      const xScale = scaleTime()\r\n          .domain([minDate,maxDate])\r\n         .range([0, dimensions.width])\r\n        \r\n      const yScale =  scaleLinear()\r\n         .domain([0, 100])\r\n         .range([dimensions.height, 30]);\r\n\r\n      \r\n         const yAxis = axisLeft(yScale);   \r\n         svg\r\n         .select('.y-axis')\r\n         .style('color', 'grey')\r\n         .style('font-size', '14')\r\n         .call(yAxis);\r\n   \r\n        const xAxis = axisBottom(xScale)\r\n        svg\r\n         .select(\".x-axis\")\r\n         .join(\".x-axis\")\r\n         .style('transform', `translateY(${dimensions.height}px)`)\r\n         .style('color', 'grey')\r\n         .style('font-size', '14')\r\n         .style('stroke-width', 1)\r\n         .call(xAxis);\r\n   \r\n         //Grids\r\n         var grids = svg.select(\"g\").append(\"g\")\r\n            .join(\"g\")\r\n            .attr(\"class\", \"grid\")\r\n            .attr('transform', 'translate(0,' + -dimensions.height + ')')\r\n            .call(axisLeft(yScale)\r\n               .tickSize(-dimensions.width)\r\n               .tickFormat(\"\")\r\n               )\r\n         \r\n         //X-Achsen-Beschriftung\r\n         svg.select(\"text\").join(\"text\")\r\n         .attr(\"text-anchor\", \"end\")\r\n         .attr(\"fill\", \"grey\")\r\n         .attr(\"x\", dimensions.width)\r\n          .attr(\"y\", + dimensions.height/ 8)\r\n          .attr(\"font-weight\", \"bold\")\r\n          .text(\"Jahr\");      \r\n         //Y-Achsen-Beschrifzung\r\n         svg.append(\"text\")\r\n         .attr(\"text-anchor\", \"end\")\r\n         .attr(\"transform\", \"rotate(-90)\")\r\n         .attr(\"fill\", \"grey\")\r\n         .attr(\"y\", - 50)\r\n         .attr(\"x\", 0)\r\n         .text(\"Prozent\")\r\n\r\n      const curve = curveLinear;\r\n\r\n      const myArea = area()\r\n      .x((d)=> (xScale(new Date(d.key))))\r\n      .y0(dimensions.height)\r\n      .y1((d)=> (yScale(d.value)))\r\n      .curve(curve)\r\n\r\n        svg\r\n         .selectAll(\".newArea\")\r\n         .data([valesMann])\r\n         .join(\"path\")\r\n         .attr(\"class\", \"newArea\")\r\n         .transition()\r\n         .duration(300)\r\n         .attr(\"d\", (value, index) => myArea(value))\r\n         .transition()\r\n         .attr(\"fill\", color1)\r\n         \r\n         svg\r\n         .selectAll(\".newerArea\")\r\n         .data([valesFrau])\r\n         .join(\"path\")\r\n         .attr(\"class\", \"newerArea\")\r\n         .transition()\r\n         .duration(300)\r\n         .attr(\"d\", (value, index) => myArea(value))\r\n         .attr(\"fill\", \"none\")\r\n         .attr(\"fill\", color2)\r\n\r\n         Tooltip(svg, valesFrau, valesMann, color1, color2, dimensions, xScale, yScale, value2, value1, value1 );\r\n\r\n   }, [data, dimensions, property]);\r\n    return (\r\n     <div  className=\"IKTWarapperRef\" ref={wrapperRef} >\r\n        <svg ref={svgRef}>\r\n          <g className=\"x-axis\" />\r\n          <g className=\"y-axis\" />\r\n        </svg>\r\n      </div>\r\n    );\r\n    }\r\n    \r\n    export default AreaIKTBeschäftigung;"]},"metadata":{},"sourceType":"module"}