{"ast":null,"code":"import _slicedToArray from \"D:\\\\Studium\\\\Bachelor\\\\WebApp\\\\visapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Studium\\\\Bachelor\\\\WebApp\\\\visapp\\\\src\\\\components\\\\charts\\\\PieMobilnutzung.jsx\";\nimport React, { useRef, useEffect, useState } from \"react\";\nimport { select, line, curveCardinal, axisBottom, axisLeft, scaleTime, scaleLinear, scaleBand, min, max, event, bisector, mouse, ticks, entries, arc, schemeDark2, scaleOrdinal, pie } from 'd3';\nimport useResizeObserver from \"./useReziseObserver\";\n\nfunction PieMobilNutzung({\n  data,\n  highlight\n}) {\n  const svgRef = useRef();\n  const wrapperRef = useRef();\n  const dimensions = useResizeObserver(wrapperRef);\n\n  const _useState = useState([0, 1.5]),\n        _useState2 = _slicedToArray(_useState, 2),\n        selection = _useState2[0],\n        setSelection = _useState2[1];\n\n  useEffect(() => {\n    const svg = select(svgRef.current);\n    if (!dimensions) return; //var width = 450;\n    //var height = 450;\n    //var  margin = 40;\n\n    var colors = scaleOrdinal(schemeDark2);\n    var pied = pie().value(d => d.value)(data); //  var radius = Math.min(width, height) / 2 - margin\n\n    var segments = arc().innerRadius(0).outerRadius(200).padAngle(.05).padRadius(50);\n    var sections = svg.append(\"g\").attr(\"transform\", \"transform(250, 250)\").selectAll(\"path\").data(pied);\n    sections.enter().append(\"path\").attr(\"d\", segments).attr(\"fill\", d => colors(d.value));\n    var content = select(\"g\").selectAll(\"text\").data(pied);\n    content.enter().append(\"text\"), (value, index) => {\n      var center = segments.centroid(value);\n      select(index).attr(\"x\", center[0].attr(\"y\", center[1]).text(value.value));\n    };\n  }, [data, dimensions]);\n  return React.createElement(\"div\", {\n    ref: wrapperRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"svg\", {\n    ref: svgRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }));\n}\n\nexport default PieMobilNutzung;","map":{"version":3,"sources":["D:/Studium/Bachelor/WebApp/visapp/src/components/charts/PieMobilnutzung.jsx"],"names":["React","useRef","useEffect","useState","select","line","curveCardinal","axisBottom","axisLeft","scaleTime","scaleLinear","scaleBand","min","max","event","bisector","mouse","ticks","entries","arc","schemeDark2","scaleOrdinal","pie","useResizeObserver","PieMobilNutzung","data","highlight","svgRef","wrapperRef","dimensions","selection","setSelection","svg","current","colors","pied","value","d","segments","innerRadius","outerRadius","padAngle","padRadius","sections","append","attr","selectAll","enter","content","index","center","centroid","text"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,SAAxB,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,aAAvB,EAAsCC,UAAtC,EAAkDC,QAAlD,EAA4DC,SAA5D,EAAuEC,WAAvE,EAAoFC,SAApF,EAA+FC,GAA/F,EAAoGC,GAApG,EAAyGC,KAAzG,EAAgHC,QAAhH,EAA0HC,KAA1H,EAAiIC,KAAjI,EAAwIC,OAAxI,EAAiJC,GAAjJ,EAAsJC,WAAtJ,EAAmKC,YAAnK,EAAiLC,GAAjL,QAA2L,IAA3L;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;;AAGA,SAASC,eAAT,CAAyB;AAAEC,EAAAA,IAAF;AAAQC,EAAAA;AAAR,CAAzB,EAA8C;AAC1C,QAAMC,MAAM,GAAG1B,MAAM,EAArB;AACA,QAAM2B,UAAU,GAAG3B,MAAM,EAAzB;AACA,QAAM4B,UAAU,GAAGN,iBAAiB,CAACK,UAAD,CAApC;;AAH0C,oBAIRzB,QAAQ,CAAC,CAAC,CAAD,EAAI,GAAJ,CAAD,CAJA;AAAA;AAAA,QAInC2B,SAJmC;AAAA,QAIxBC,YAJwB;;AAM1C7B,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAM8B,GAAG,GAAG5B,MAAM,CAACuB,MAAM,CAACM,OAAR,CAAlB;AAEA,QAAG,CAACJ,UAAJ,EAAgB,OAHJ,CAIZ;AACA;AACA;;AAEA,QAAIK,MAAM,GAAGb,YAAY,CAACD,WAAD,CAAzB;AACA,QAAIe,IAAI,GAAGb,GAAG,GAAGc,KAAN,CAAaC,CAAD,IAAOA,CAAC,CAACD,KAArB,EAA4BX,IAA5B,CAAX,CATY,CAYd;;AAEE,QAAIa,QAAQ,GAAGnB,GAAG,GACDoB,WADF,CACc,CADd,EAEEC,WAFF,CAEc,GAFd,EAGEC,QAHF,CAGW,GAHX,EAIEC,SAJF,CAIY,EAJZ,CAAf;AAMA,QAAIC,QAAQ,GAAGX,GAAG,CAACY,MAAJ,CAAW,GAAX,EACEC,IADF,CACO,WADP,EACoB,qBADpB,EAEEC,SAFF,CAEY,MAFZ,EAGErB,IAHF,CAGOU,IAHP,CAAf;AAIgBQ,IAAAA,QAAQ,CAACI,KAAT,GACCH,MADD,CACQ,MADR,EAECC,IAFD,CAEM,GAFN,EAEWP,QAFX,EAEqBO,IAFrB,CAE0B,MAF1B,EAEmCR,CAAD,IAAOH,MAAM,CAACG,CAAC,CAACD,KAAH,CAF/C;AAIhB,QAAIY,OAAO,GAAG5C,MAAM,CAAC,GAAD,CAAN,CACD0C,SADC,CACS,MADT,EAEDrB,IAFC,CAEIU,IAFJ,CAAd;AAIYa,IAAAA,OAAO,CACND,KADD,GAECH,MAFD,CAEQ,MAFR,GAEiB,CAACR,KAAD,EAAQa,KAAR,KAAkB;AAC/B,UAAIC,MAAM,GAAGZ,QAAQ,CAACa,QAAT,CAAkBf,KAAlB,CAAb;AACAhC,MAAAA,MAAM,CAAC6C,KAAD,CAAN,CAAcJ,IAAd,CAAmB,GAAnB,EAAwBK,MAAM,CAAC,CAAD,CAAN,CAAUL,IAAV,CAAe,GAAf,EAAoBK,MAAM,CAAC,CAAD,CAA1B,EACvBE,IADuB,CAClBhB,KAAK,CAACA,KADY,CAAxB;AAIH,KARD;AAWf,GA3CQ,EA2CN,CAACX,IAAD,EAAOI,UAAP,CA3CM,CAAT;AA8CJ,SACI;AAAK,IAAA,GAAG,EAAED,UAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG;AAAK,IAAA,GAAG,EAAED,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADH,CADJ;AAME;;AAED,eAAeH,eAAf","sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\r\nimport { select, line, curveCardinal, axisBottom, axisLeft, scaleTime, scaleLinear, scaleBand, min, max, event, bisector, mouse, ticks, entries, arc, schemeDark2, scaleOrdinal, pie} from 'd3';\r\nimport useResizeObserver from \"./useReziseObserver\";\r\n\r\n\r\nfunction PieMobilNutzung({ data, highlight }) {\r\n    const svgRef = useRef();\r\n    const wrapperRef = useRef();\r\n    const dimensions = useResizeObserver(wrapperRef);\r\n    const [selection, setSelection] = useState([0, 1.5]);\r\n \r\n    useEffect(() => {\r\n        const svg = select(svgRef.current);\r\n        \r\n        if(!dimensions) return;\r\n        //var width = 450;\r\n        //var height = 450;\r\n        //var  margin = 40;\r\n\r\n        var colors = scaleOrdinal(schemeDark2);\r\n        var pied = pie().value((d) => d.value)(data);\r\n       \r\n\r\n      //  var radius = Math.min(width, height) / 2 - margin\r\n\r\n        var segments = arc()\r\n                        .innerRadius(0)\r\n                        .outerRadius(200)\r\n                        .padAngle(.05)\r\n                        .padRadius(50);\r\n        \r\n        var sections = svg.append(\"g\")\r\n                        .attr(\"transform\", \"transform(250, 250)\")\r\n                        .selectAll(\"path\")\r\n                        .data(pied);\r\n                        sections.enter()\r\n                        .append(\"path\")\r\n                        .attr(\"d\", segments).attr(\"fill\", (d) => colors(d.value));\r\n\r\n        var content = select(\"g\")\r\n                    .selectAll(\"text\")\r\n                    .data(pied);\r\n                    \r\n                    content\r\n                    .enter()\r\n                    .append(\"text\"), (value, index) => {\r\n                        var center = segments.centroid(value);\r\n                        select(index).attr(\"x\", center[0].attr(\"y\", center[1])\r\n                        .text(value.value))\r\n\r\n                    \r\n                    }\r\n                       \r\n        \r\n    }, [data, dimensions]);\r\n\r\n\r\nreturn (\r\n    <div ref={wrapperRef} >\r\n       <svg ref={svgRef}>\r\n       </svg>\r\n     </div>\r\n );\r\n }\r\n \r\n export default PieMobilNutzung;"]},"metadata":{},"sourceType":"module"}