{"ast":null,"code":"var _jsxFileName = \"D:\\\\Studium\\\\Bachelor\\\\WebApp\\\\visapp\\\\src\\\\components\\\\charts\\\\BarHighInternet.jsx\";\nimport React, { useRef, useEffect, useState } from \"react\";\nimport { select, min, max, entries, axisBottom, axisLeft, scaleTime, scaleOrdinal, scaleLinear, pie, arc, scaleBand } from 'd3';\nimport useResizeObserver from \"./useReziseObserver\";\nimport '../../styles/highlight.css';\n\nfunction BarHighInternet({\n  data\n}) {\n  const svgRef = useRef();\n  const wrapperRef = useRef();\n  const dimensions = useResizeObserver(wrapperRef);\n  useEffect(() => {\n    const svg = select(svgRef.current);\n    if (!dimensions) return;\n    console.log(data); // for(var i = 0; i < data.length; i ++) {\n    //   var filterme = data[i].time; \n    //  }\n\n    var width = dimensions.width / 1.5;\n    var outerRadius = width / 2;\n    var innerRadius = 0;\n    var pied = pie().value(d => d.time[Object.keys(d.time)[0]])(data);\n    var color = scaleOrdinal().domain(pied).range([\"#d6d6d6\", \"#da26da\", \"#6811d4\"]);\n    var arcd = arc().innerRadius(90) // This is the size of the donut hole\n    .outerRadius(outerRadius / 1.5);\n    var g = svg.selectAll(\".arc\").data(pied).enter().append(\"g\").attr(\"class\", \"arc\");\n    g.append(\"path\").attr(\"d\", arcd).attr(\"fill\", function (d) {\n      return color(d.data.häufig);\n    }).attr(\"stroke\", \"white\").style(\"stroke-width\", \"2px\").style(\"opacity\", 0.7);\n    g.append(\"text\").attr(\"transform\", function (d) {\n      return \"translate(\" + arcd.centroid(d) + \")\";\n    }).attr(\"dy\", \".30em\").text(function (d) {\n      return d.data.häufig;\n    });\n    /*  svg\r\n      .selectAll('.piedClass')\r\n      .data(pied)\r\n      .join(\"path\")\r\n      .attr(\"class\", \"piedClass\")\r\n      .attr('d', arcd )\r\n      .attr('fill', function(d){ return(color(d.data.häufig)) })\r\n      .attr(\"stroke\", \"white\")\r\n      .style(\"stroke-width\", \"2px\")\r\n      .style(\"opacity\", 0.7)\r\n        svg\r\n      .selectAll('.label')\r\n      .join(\"text\")\r\n      .attr(\"class\", \"label\")\r\n      .attr(\"transform\", function(d) {\r\n       return \"translate(\" + arcd.centroid(d) + \")\"})\r\n       .attr(\"text-anchor\", \"middle\")\r\n       .text(function(d) {return d.data.häufig})\r\n       .attr(\"fill\", \"white\")\r\n     */\n  }, [data, dimensions]);\n  return React.createElement(\"div\", {\n    className: \"chartHigh\",\n    ref: wrapperRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"svg\", {\n    ref: svgRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"g\", {\n    className: \"x-axis\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }), React.createElement(\"g\", {\n    className: \"y-axis\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  })));\n}\n\nexport default BarHighInternet;","map":{"version":3,"sources":["D:/Studium/Bachelor/WebApp/visapp/src/components/charts/BarHighInternet.jsx"],"names":["React","useRef","useEffect","useState","select","min","max","entries","axisBottom","axisLeft","scaleTime","scaleOrdinal","scaleLinear","pie","arc","scaleBand","useResizeObserver","BarHighInternet","data","svgRef","wrapperRef","dimensions","svg","current","console","log","width","outerRadius","innerRadius","pied","value","d","time","Object","keys","color","domain","range","arcd","g","selectAll","enter","append","attr","häufig","style","centroid","text"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\r\nimport { select, min, max, entries, axisBottom, axisLeft, scaleTime, scaleOrdinal, scaleLinear, pie, arc, scaleBand} from 'd3';\r\nimport useResizeObserver from \"./useReziseObserver\";\r\nimport '../../styles/highlight.css'\r\n\r\n\r\nfunction BarHighInternet({ data}) {\r\n   const svgRef = useRef();\r\n   const wrapperRef = useRef();\r\n   const dimensions = useResizeObserver(wrapperRef);\r\n\r\n   useEffect(() => {\r\n\r\n    const svg = select(svgRef.current);\r\n  \r\n    if(!dimensions) return;\r\n    console.log(data);\r\n\r\n   // for(var i = 0; i < data.length; i ++) {\r\n     //   var filterme = data[i].time; \r\n       //  }\r\n\r\n       var width = dimensions.width /1.5 ;\r\n       var outerRadius = width/2;\r\n       var innerRadius = 0;\r\n\r\n       var pied = pie().value((d) => d.time[Object.keys(d.time)[0]])(data);\r\n\r\n \r\n         var color = scaleOrdinal()\r\n         .domain(pied)\r\n         .range([\"#d6d6d6\",\"#da26da\",\"#6811d4\"])\r\n\r\n         var arcd = arc()\r\n         .innerRadius(90)         // This is the size of the donut hole\r\n         .outerRadius(outerRadius/1.5)\r\n\r\n\r\n         var g = svg.selectAll(\".arc\")\r\n        .data(pied)\r\n        .enter().append(\"g\")\r\n        .attr(\"class\", \"arc\");\r\n\r\n        g.append(\"path\")\r\n        .attr(\"d\", arcd)\r\n        .attr(\"fill\", function(d) { return color(d.data.häufig); })\r\n        .attr(\"stroke\", \"white\")\r\n         .style(\"stroke-width\", \"2px\")\r\n         .style(\"opacity\", 0.7)\r\n\r\n        g.append(\"text\")\r\n        .attr(\"transform\", function(d) { return \"translate(\" + arcd.centroid(d) + \")\"; })\r\n        .attr(\"dy\", \".30em\")\r\n        .text(function(d) { return d.data.häufig; });\r\n       /*  svg\r\n         .selectAll('.piedClass')\r\n         .data(pied)\r\n         .join(\"path\")\r\n         .attr(\"class\", \"piedClass\")\r\n         .attr('d', arcd )\r\n         .attr('fill', function(d){ return(color(d.data.häufig)) })\r\n         .attr(\"stroke\", \"white\")\r\n         .style(\"stroke-width\", \"2px\")\r\n         .style(\"opacity\", 0.7)\r\n\r\n         svg\r\n         .selectAll('.label')\r\n         .join(\"text\")\r\n         .attr(\"class\", \"label\")\r\n         .attr(\"transform\", function(d) {\r\n          return \"translate(\" + arcd.centroid(d) + \")\"})\r\n          .attr(\"text-anchor\", \"middle\")\r\n          .text(function(d) {return d.data.häufig})\r\n          .attr(\"fill\", \"white\")\r\n        */\r\n\r\n   \r\n}, [data, dimensions]);\r\nreturn (\r\n <div className=\"chartHigh\" ref={wrapperRef}>\r\n    <svg ref={svgRef}>\r\n      <g className=\"x-axis\" />\r\n      <g className=\"y-axis\" />\r\n    </svg>\r\n  </div>\r\n);\r\n}\r\n\r\nexport default BarHighInternet;"]},"metadata":{},"sourceType":"module"}