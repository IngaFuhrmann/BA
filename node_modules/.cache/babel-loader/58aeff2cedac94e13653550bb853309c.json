{"ast":null,"code":"import _slicedToArray from \"D:\\\\Studium\\\\Bachelor\\\\WebApp\\\\visapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Studium\\\\Bachelor\\\\WebApp\\\\visapp\\\\src\\\\components\\\\charts\\\\PieMobilnutzung.jsx\";\nimport React, { useRef, useEffect, useState } from \"react\";\nimport { select, line, curveCardinal, axisBottom, axisLeft, scaleTime, scaleLinear, scaleBand, min, max, event, bisector, mouse, ticks, entries, arc, schemeSet2, scaleOrdinal } from 'd3';\nimport useResizeObserver from \"./useReziseObserver\";\n\nfunction PieMobilNutzung({\n  data,\n  highlight\n}) {\n  const svgRef = useRef();\n  const wrapperRef = useRef();\n  const dimensions = useResizeObserver(wrapperRef);\n\n  const _useState = useState([0, 1.5]),\n        _useState2 = _slicedToArray(_useState, 2),\n        selection = _useState2[0],\n        setSelection = _useState2[1];\n\n  useEffect(() => {\n    const svg = select(svgRef.current);\n    var radius = Math.min(dimensions.width, dimensions.height) / 2;\n    var color = scaleOrdinal().domain(data).range(schemeSet2);\n    var pie = pie().value(d => d.value);\n    var data_ready = pie(entries(data));\n    var arcGenerator = arc().innerRadius(0).outerRadius(radius);\n    svg.selectAll('mySlices').data(data_ready).enter().join('path').attr('d', arcGenerator).attr('fill', function (d) {\n      return color(d.data.ed);\n    }).attr(\"stroke\", \"black\").style(\"stroke-width\", \"2px\").style(\"opacity\", 0.7);\n    svg.selectAll('mySlices').data(data_ready).enter().append('text').text(function (d) {\n      return \"grp \" + d.data.ed;\n    }).attr(\"transform\", function (d) {\n      return \"translate(\" + arcGenerator.centroid(d) + \")\";\n    }).style(\"text-anchor\", \"middle\").style(\"font-size\", 17);\n  }, [data, dimensions]);\n  return React.createElement(\"div\", {\n    ref: wrapperRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"svg\", {\n    ref: svgRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }));\n}\n\nexport default PieMobilNutzung;","map":{"version":3,"sources":["D:/Studium/Bachelor/WebApp/visapp/src/components/charts/PieMobilnutzung.jsx"],"names":["React","useRef","useEffect","useState","select","line","curveCardinal","axisBottom","axisLeft","scaleTime","scaleLinear","scaleBand","min","max","event","bisector","mouse","ticks","entries","arc","schemeSet2","scaleOrdinal","useResizeObserver","PieMobilNutzung","data","highlight","svgRef","wrapperRef","dimensions","selection","setSelection","svg","current","radius","Math","width","height","color","domain","range","pie","value","d","data_ready","arcGenerator","innerRadius","outerRadius","selectAll","enter","join","attr","ed","style","append","text","centroid"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\r\nimport { select, line, curveCardinal, axisBottom, axisLeft, scaleTime, scaleLinear, scaleBand, min, max, event, bisector, mouse, ticks, entries, arc, schemeSet2, scaleOrdinal} from 'd3';\r\nimport useResizeObserver from \"./useReziseObserver\";\r\n\r\n\r\nfunction PieMobilNutzung({ data, highlight }) {\r\n    const svgRef = useRef();\r\n    const wrapperRef = useRef();\r\n    const dimensions = useResizeObserver(wrapperRef);\r\n    const [selection, setSelection] = useState([0, 1.5]);\r\n \r\n    useEffect(() => {\r\n        const svg = select(svgRef.current);\r\n        var radius = Math.min(dimensions.width, dimensions.height) / 2\r\n\r\n        var color = scaleOrdinal()\r\n            .domain(data)\r\n            .range(schemeSet2);\r\n\r\n            var pie = pie()\r\n            .value((d) => d.value)\r\n\r\n            var data_ready = pie(entries(data))\r\n\r\n            var arcGenerator = arc()\r\n    \t        .innerRadius(0)\r\n                .outerRadius(radius);\r\n                svg\r\n                .selectAll('mySlices')\r\n                .data(data_ready)\r\n                .enter()\r\n                .join('path')\r\n                    .attr('d', arcGenerator)\r\n                    .attr('fill', function(d){ return(color(d.data.ed)) })\r\n                    .attr(\"stroke\", \"black\")\r\n                    .style(\"stroke-width\", \"2px\")\r\n                    .style(\"opacity\", 0.7)\r\n\r\n                    svg\r\n                    .selectAll('mySlices')\r\n                    .data(data_ready)\r\n                    .enter()\r\n                    .append('text')\r\n                    .text(function(d){ return \"grp \" + d.data.ed})\r\n                    .attr(\"transform\", function(d) { return \"translate(\" + arcGenerator.centroid(d) + \")\";  })\r\n                    .style(\"text-anchor\", \"middle\")\r\n                    .style(\"font-size\", 17)\r\n\r\n\r\n    }, [data, dimensions]);\r\n\r\n\r\nreturn (\r\n    <div ref={wrapperRef} >\r\n       <svg ref={svgRef}>\r\n       </svg>\r\n     </div>\r\n );\r\n }\r\n \r\n export default PieMobilNutzung;"]},"metadata":{},"sourceType":"module"}