{"ast":null,"code":"import React,{useRef,useEffect}from\"react\";import{select,entries,axisBottom,axisLeft,scaleLinear,scaleOrdinal,scaleBand}from'd3';import useResizeObserver from\"./useReziseObserver\";import'../../styles/highlight.css';function BarHighKeinInternet(_ref){var data=_ref.data,property=_ref.property;var svgRef=useRef();var wrapperRef=useRef();var dimensions=useResizeObserver(wrapperRef);useEffect(function(){if(!dimensions)return;var svg=select(svgRef.current);var filterme;//Daten sortieren\nvar filtered=data.filter(function(a){return a.time==property;});for(var i=0;i<filtered.length;i++){filterme=filtered[i].gründe;}var vales=entries(filterme);//Achsen\nvar xScale=scaleLinear().domain([0,50]).range([0,dimensions.width]);var yScale=scaleBand().domain(vales.map(function(value,index){return value.key;})).range([0,dimensions.height]).padding(0.3);var color=scaleOrdinal().domain(vales.map(function(value,index){return value.value;})).range([\"#d57be8\"]);var xAxis=axisBottom(xScale);svg.select(\".x-axis\").remove();var yAxis=axisLeft(yScale).tickSizeOuter(0).tickSizeInner(0).tickPadding(10);svg.select(\".y-axis\").style('font-size','80%').style('color','white').call(yAxis);svg.select(\".domain\").remove();svg.transition();//Balken zeichnen\nvar barInternt=svg.selectAll(\".bar\").data(vales).join(\"rect\").attr(\"class\",\"bar\").attr(\"fill\",color);barInternt.transition().duration(1000).attr('x',xScale(0)).attr('y',function(s){return yScale(s.key);}).attr('width',function(s){return xScale(s.value);}).attr('height',yScale.bandwidth);barInternt.on(\"mouseenter\",function(value,index){svg.selectAll(\".tooltip\").data([value]).join(function(enter){return enter.append(\"text\");}).attr(\"class\",\"tooltip\").text(value.value+\" %\").attr(\"x\",xScale(value.value)+5).attr(\"y\",yScale(value.key)+yScale.bandwidth()/1.5).attr(\"opacity\",1).transition().attr(\"fill\",\"white\");}).on(\"mouseleave\",function(){return svg.select(\".tooltip\").remove().transition();});},[data,dimensions]);return React.createElement(\"div\",{className:\"chartHighKeinInternet\",ref:wrapperRef},React.createElement(\"svg\",{ref:svgRef},React.createElement(\"g\",{className:\"x-axis\"}),React.createElement(\"g\",{className:\"y-axis\"})));}export default BarHighKeinInternet;","map":{"version":3,"sources":["D:/Studium/Bachelor/FinalHelper/src/components/charts/HighlightInternetChart.jsx"],"names":["React","useRef","useEffect","select","entries","axisBottom","axisLeft","scaleLinear","scaleOrdinal","scaleBand","useResizeObserver","BarHighKeinInternet","data","property","svgRef","wrapperRef","dimensions","svg","current","filterme","filtered","filter","a","time","i","length","gründe","vales","xScale","domain","range","width","yScale","map","value","index","key","height","padding","color","xAxis","remove","yAxis","tickSizeOuter","tickSizeInner","tickPadding","style","call","transition","barInternt","selectAll","join","attr","duration","s","bandwidth","on","enter","append","text"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect} from \"react\";\r\nimport { select,entries, axisBottom, axisLeft, scaleLinear, scaleOrdinal, scaleBand} from 'd3';\r\nimport useResizeObserver from \"./useReziseObserver\";\r\nimport '../../styles/highlight.css'\r\n\r\n\r\nfunction BarHighKeinInternet({data, property}) {\r\n\r\n    const svgRef = useRef();\r\n    const wrapperRef = useRef();\r\n    const dimensions = useResizeObserver(wrapperRef);\r\n \r\n    useEffect(() => {\r\n\r\n      if(!dimensions) return;\r\n\r\n     const svg = select(svgRef.current);\r\n     var filterme; \r\n\r\n     //Daten sortieren\r\n     var filtered = data.filter(a=>a.time==property);\r\n                \r\n        for(var i = 0; i < filtered.length; i ++) {\r\n            filterme = filtered[i].gründe; \r\n             }\r\n\r\n       var vales = entries(filterme);\r\n\r\n       //Achsen\r\n        const xScale = scaleLinear()\r\n        .domain([0, 50])\r\n       .range([0, dimensions.width])\r\n       \r\n        const yScale =  scaleBand()\r\n       .domain(vales.map((value, index) => value.key))\r\n       .range([0, dimensions.height])\r\n       .padding(0.3)\r\n       \r\n       var color = scaleOrdinal()\r\n       .domain(vales.map((value, index) => value.value))\r\n       .range([\"#d57be8\"])\r\n\r\n       const xAxis = axisBottom(xScale);\r\n       svg\r\n          .select(\".x-axis\")\r\n          .remove()\r\n\r\n       const yAxis = axisLeft(yScale)\r\n          .tickSizeOuter(0)\r\n          .tickSizeInner(0)\r\n          .tickPadding(10)\r\n          \r\n      svg\r\n          .select(\".y-axis\")\r\n          .style('font-size', '80%')\r\n          .style('color', 'white')\r\n          .call(yAxis);\r\n      svg.select(\".domain\").remove()\r\n      svg.transition()\r\n\r\n            //Balken zeichnen\r\n      const barInternt = svg\r\n          .selectAll(\".bar\")\r\n          .data(vales)\r\n          .join(\"rect\")\r\n          .attr(\"class\", \"bar\")\r\n          .attr(\"fill\", color)\r\n\r\n       barInternt\r\n          .transition()\r\n          .duration(1000)\r\n          .attr('x', xScale(0))\r\n          .attr('y', (s) => yScale(s.key))\r\n          .attr('width', (s) => xScale(s.value))\r\n          .attr('height', yScale.bandwidth)\r\n\r\n         barInternt.on(\"mouseenter\", (value, index) => {\r\n              svg\r\n                  .selectAll(\".tooltip\")\r\n                  .data([value])\r\n                  .join(enter => enter.append(\"text\"))\r\n                  .attr(\"class\", \"tooltip\")\r\n                  .text((value.value) + \" %\")\r\n                  .attr(\"x\", xScale(value.value) + 5)\r\n                  .attr(\"y\", yScale(value.key) + yScale.bandwidth() / 1.5)\r\n                  .attr(\"opacity\", 1)\r\n                  .transition()\r\n                  .attr(\"fill\", \"white\")\r\n                })\r\n                \r\n                .on(\"mouseleave\", () => \r\n                  svg.select(\".tooltip\").remove()\r\n                  .transition() \r\n       )\r\n}, [data, dimensions]);\r\nreturn (\r\n <div className=\"chartHighKeinInternet\" ref={wrapperRef}>\r\n    <svg ref={svgRef}>\r\n      <g className=\"x-axis\" />\r\n      <g className=\"y-axis\" />\r\n    </svg>\r\n  </div>\r\n);\r\n}\r\n\r\nexport default BarHighKeinInternet;"]},"metadata":{},"sourceType":"module"}